@model IEnumerable<OnlineShop.Web.Models.Order>



    @{
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
    ViewData["Title"] = "Quản lý đơn hàng";
    }

    <div class="container mt-4">
        <h2>Quản lý đơn hàng</h2>

        <table class="table table-striped mt-3">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Khách hàng</th>
                    <th>SĐT</th>
                    <th>Địa chỉ</th>
                    <th>Ngày đặt</th>
                    <th>Tổng tiền</th>
                    <th>Trạng thái</th>
                    <th>Thao tác</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var o in Model)
            {
                <tr>
                    <td>@o.Id</td>
                    <td>@o.ShipName</td>
                    <td>@o.ShipPhone</td>
                    <td>@o.ShipAddress</td>
                    <td>@o.OrderDate.ToString("dd/MM/yyyy HH:mm")</td>
                    <td>@o.Total.ToString("N0") đ</td>
                    <td>
                        <form asp-action="UpdateStatus" method="post" class="d-flex">
                            <input type="hidden" name="id" value="@o.Id" />
                            <select name="status" class="form-select form-select-sm">
                                <option value="Pending" selected="@(o.Status == "Pending")">Đang chờ</option>
                                <option value="Confirmed" selected="@(o.Status == "Confirmed")">Đã xác nhận</option>
                                <option value="Shipped" selected="@(o.Status == "Shipped")">Đang giao</option>
                                <option value="Completed" selected="@(o.Status == "Completed")">Hoàn thành</option>
                                <option value="Cancelled" selected="@(o.Status == "Cancelled")">Đã hủy</option>
                            </select>

                            <button type="submit" class="btn btn-sm btn-success ms-2">Lưu</button>
                        </form>
                    </td>
                    <td>
                        <a class="btn btn-info btn-sm" asp-action="Details" asp-route-id="@o.Id">Xem</a>
                        <form asp-action="Delete" asp-route-id="@o.Id" method="post" class="d-inline">
                            @Html.AntiForgeryToken()
                            <button type="submit" class="btn btn-danger btn-sm"
                                    onclick="return confirm('Xóa đơn hàng này?');">
                                Xóa
                            </button>
                        </form>
                    </td>
                </tr>
            }
            </tbody>
        </table>
    </div>
